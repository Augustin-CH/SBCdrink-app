import './style.css'
import {FC, useEffect, useState} from "react";

interface GlassLoaderProps {
    value?: number
    isLoading?: boolean
}

const GlassLoader: FC<GlassLoaderProps> = ({
    value,
    isLoading,
}) => {
    const [indexLiquidSVG, setIndexLiquidSVG] = useState(0);

    useEffect(() => {
        let i = 0
        const fillGlass = setInterval(() => {
            console.log(`fillGlass`, i)
            setIndexLiquidSVG(i)
            i >= 10 && clearInterval(fillGlass);
            i++
        }, 1000)

        return () => {
            clearInterval(fillGlass)
        }
    }, []);

    const liquidSVGList = [
        "M215.5 347C202.5 341 194 359 194 359V369H0H256H512H318L339.875 139C339.875 139 331.5 130.5 323.5 141C315.5 151.5 302.5 313 296 330C289.5 347 285 341 276.5 338.5C268 336 254 351 244.5 347C235 343 228.5 353 215.5 347Z",
        "M213.5 326C194 314 188 338 188 338L194 369H0H256H512H318L339.875 139C339.875 139 331.5 130.5 323.5 141C315.5 151.5 305 282 298.5 299C292 316 279.5 326 270.5 326C261.5 326 270.5 336.526 245.5 326C220.5 315.474 233 338 213.5 326Z",
        "M211.5 303.5C194.5 312 185.5 311.5 185.5 311.5L194 369H0H256H512H318L339.875 139C339.875 139 331.5 130.5 323.5 141C315.5 151.5 306 257 299.5 274C293 291 283 287.5 270.5 299C258 310.5 260 294 243 303.5C226 313 228.5 295 211.5 303.5Z",
        "M209.5 286C189.5 276.769 180 286 180 286L194 369H0H256H512H318L339.875 139C339.875 139 331.5 130.5 323.5 141C315.5 151.5 305 235.5 298.5 252.5C292 269.5 294 286 275 275.5C256 265 261.812 286 244 278.5C226.188 271 229.5 295.231 209.5 286Z",
        "M203.5 266.5C187.5 256.5 180 286 180 286L194 369H0H256H512H318L339.875 139C339.875 139 331.5 130.5 323.5 141C315.5 151.5 305 225 298.5 242C292 259 293.5 274 276 262C258.5 250 265.5 279 243.5 264C221.5 249 219.5 276.5 203.5 266.5Z",
        "M198.5 238.5C176.5 256 181.5 261.5 181.5 261.5L194 369H0H256H512H318L339.875 139C339.875 139 331.5 130.5 323.5 141C315.5 151.5 309 197 302.5 214C296 231 281.65 222.5 269 234C256.35 245.5 256 223 237.5 238.5C219 254 220.5 221 198.5 238.5Z",
        "M198 220.5C176.5 199.5 181.5 236.5 181.5 236.5L194 369H0H256H512H318L339.875 139C339.875 139 331.5 130.5 323.5 141C315.5 151.5 312 186 305.5 203C299 220 289.5 231 269.5 216C249.5 201 248 227.5 234.5 220.5C221 213.5 219.5 241.5 198 220.5Z",
        "M194 202C174 217 181.5 236.5 181.5 236.5L194 369H0H256H512H318L339.875 139C339.875 139 331.5 130.5 323.5 141C315.5 151.5 312.5 164 306 181C299.5 198 289.5 181 276 195.5C262.5 210 259 186 235.5 202C212 218 214 187 194 202Z",
        "M190 179C173 167.5 178 197.5 178 197.5L194 369H0H256H512H318L339.875 139C339.875 139 331.5 130.5 323.5 141C315.5 151.5 312.5 140 306 157C299.5 174 298.5 164 275 164C251.5 164 260 186 233.5 179C207 172 207 190.5 190 179Z",
        "M172.125 139L194 369H0H256H512H318L339.875 139H256H172.125Z",
    ]

    return (
        <div className="container-glass-loader">
            <svg viewBox="0 0 512 512" className="le-svg">
                <defs>
                    <path id="liquid_full" className="yellow" d="M313.8,159.7h-116c-4.6,0-8.4,3.7-8.4,8.4l13.1,180c0,4.6,3.7,8.4,8.4,8.4h87.2c4.6,0,8.4-3.7,8.4-8.4
		l15.7-180C322.2,163.4,318.5,159.7,313.8,159.7z"/>
                </defs>
                <rect id="bg" className="bg" width="512" height="512"/>
                <clipPath id="clip">
                    <use xlinkHref="#liquid_full" style={{ overflow: "visible" }}/>
                </clipPath>

                <g className="liquids">
                    <path
                        style={{ transition: "all 0.3s ease-in-out" }}
                        className="yellow"
                        d={liquidSVGList[indexLiquidSVG]}
                    />
                </g>
                <g id="foam">
                    <path id="foam_1" className="foam"
                          d="M328.1,197.1c0,0-42.1,15.4-76.1,0c-29.7-13.5-68.3,0-68.3,0v-60.6h144.4V197.1z"/>
                    <path id="foam_2" className="foam"
                          d="M328.1,197.1c0,0-47.1-14.9-76.1,0c-29,14.9-68.3,0-68.3,0v-60.6h144.4V197.1z"/>
                </g>
                <g id="glass_out">
                    <path className="glass" d="M313.3,367.7h-116c-3,0-5.4-2.4-5.4-5.4L173,149.7c0-3,2.4-5.4,5.4-5.4h155.2c3,0,5.4,2.4,5.4,5.4l-20.2,212.5
		C318.8,365.3,316.3,367.7,313.3,367.7z"/>
                    <polygon className="glass" points="186.5,144.3 204.3,367.7 235.9,367.7 218.1,144.3 	"/>
                </g>
                <g id="bubbles">
                    <ellipse className="yellow" cx="233.1" cy="338.8" rx="2.1" ry="2.2"/>
                    <ellipse className="yellow" cx="241" cy="344.2" rx="1.7" ry="1.7"/>
                    <ellipse className="yellow" cx="226.4" cy="317" rx="0.9" ry="0.8"/>
                    <ellipse className="yellow" cx="225.5" cy="320.8" rx="1.7" ry="1.7"/>
                </g>
                <g id="text">
                    <g id="text-svg">
                        <path className="foam" d="M176.4,417c0,0,2.8,3.3,6.8,3.3c2.5,0,4.7-1.5,4.7-4c0-5.7-13.1-4.8-13.1-13.3c0-4.1,3.6-7.3,8.7-7.3c2.9,0,7.7,1.3,7.7,5v2.2h-3.5v-1.3c0-1.4-2-2.5-4.2-2.5c-2.9,0-4.8,1.6-4.8,3.7c0,5.5,13.1,4.3,13.1,13.2c0,4.2-3.2,7.7-8.6,7.7c-5.8,0-9-4-9-4L176.4,417z"/>
                        <path className="foam" d="M195.7,400.3c-0.2-0.7-0.6-0.8-1.3-0.8h-0.5v-3.3h2.2c1.9,0,2.6,0.4,3.2,2.2l6,16.8c0.5,1.5,1,3.7,1,3.7h0.1c0,0,0.5-2.3,1-3.7l6-16.8c0.7-1.8,1.3-2.2,3.2-2.2h2.2v3.3h-0.5c-0.7,0-1,0.2-1.3,0.8l-8.6,23h-4.1L195.7,400.3z"/>
                        <path className="foam" d="M233.8,395.7c6.5,0,9.7,3.4,9.7,3.4l-2.2,2.8c0,0-2.9-2.6-7.4-2.6c-5.4,0-9.8,4.4-9.8,10.4c0,6.3,4.4,10.6,9.9,10.6c4.9,0,7.7-3.4,7.7-3.4v-2.7c0-0.5-0.3-0.8-0.8-0.8h-1.7v-3.3h3.6c1.7,0,2.5,0.7,2.5,2.5v11h-3.4v-1.7c0-0.6,0-1.2,0-1.2h-0.1c0,0-3,3.3-8.5,3.3c-7.2,0-13.3-5.7-13.3-14.2C220.1,401.8,226,395.7,233.8,395.7z"/>
                    </g>
                    <g id="text-beer">
                        <path className="yellow" d="M250.8,399.5h-2.5v-3.3h11.6c4.6,0,7.9,2.5,7.9,6.9c0,3-1.6,5-3.4,5.9v0.1c2.9,0.8,4.5,3.5,4.5,6.6c0,5.1-3.9,7.7-8.7,7.7h-6.9c-1.7,0-2.5-0.7-2.5-2.5V399.5z M260,407.6c2.4,0,3.9-1.7,3.9-4.1s-1.5-4-4-4h-5.2v8.1H260z M255.5,420h4.9c2.9,0,4.6-1.8,4.6-4.6c0-2.8-1.8-4.7-4.6-4.7h-5.7v8.4C254.7,419.7,255,420,255.5,420z"/>
                        <path className="yellow" d="M274.6,399.5h-2.5v-3.3h16c1.7,0,2.5,0.7,2.5,2.5v3.4h-3.5v-1.7c0-0.6-0.3-0.8-0.8-0.8h-7.7v8.5h9.5v3.3h-9.5v7.9c0,0.5,0.3,0.8,0.8,0.8h7.9c0.5,0,0.8-0.3,0.8-0.8v-1.7h3.5v3.4c0,1.7-0.7,2.5-2.5,2.5h-12.1c-1.7,0-2.5-0.7-2.5-2.5V399.5z"/>
                        <path className="yellow" d="M296.5,399.5H294v-3.3h16c1.7,0,2.5,0.7,2.5,2.5v3.4h-3.5v-1.7c0-0.6-0.3-0.8-0.8-0.8h-7.7v8.5h9.5v3.3h-9.5v7.9c0,0.5,0.3,0.8,0.8,0.8h7.9c0.5,0,0.8-0.3,0.8-0.8v-1.7h3.5v3.4c0,1.7-0.7,2.5-2.5,2.5H299c-1.7,0-2.5-0.7-2.5-2.5V399.5z"/>
                        <path className="yellow" d="M318.4,399.5h-2.5v-3.3h11.9c4.8,0,8.1,3,8.1,8c0,4.5-3,6.8-4.9,7.2v0.1c0,0,0.7,0.3,1.2,1.2l3.3,6.5c0.4,0.8,1,0.9,1.9,0.9h0.5v3.3H336c-2.1,0-2.9-0.3-3.8-2l-3.7-7.3c-0.7-1.3-1.2-1.5-2.7-1.5h-3.5v10.8h-3.9V399.5z M327.2,409.2c2.9,0,4.7-1.9,4.7-4.9s-1.7-4.8-4.6-4.8h-5.1v9.7H327.2z"/>
                    </g>
                </g>
            </svg>
        </div>
    )
}

export { GlassLoader }
